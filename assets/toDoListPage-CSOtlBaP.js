import{u as N,a as M,b as F,s as I,r as R,c as P,g as A,d as E,e as T,R as y,j as e,f as G,B as k,h as n,i as f}from"./index-Cze8Sqlb.js";import{u as H,I as V}from"./inputHook-0Wtc1obw.js";const $=()=>N(),b=M,B=()=>{const t=$(),a=b(s=>s.todo.todoList),l=b(s=>s.todo.todoList.filter(m=>m.done)),r=b(s=>s.todo.basket),c=b(s=>s.todo.todoList.filter(m=>!m.done));return{toDoList:a,basketList:r,inProcessList:c,doneList:l,setTodoList:s=>t(E(s)),setBasketList:s=>t(T(s)),addToList:s=>t(F(s)),setDone:s=>t(I(s)),setDelete:s=>t(R(s)),setDeleteAll:()=>t(P()),getFromBasket:s=>t(A(s))}},q="_item_1dtgu_1",w="_text_1dtgu_21",z="_done_1dtgu_31",J="_btns_1dtgu_39",j={item:q,text:w,done:z,btns:J},K=({text:t,done:a,onDelete:l,onDone:r,onBasket:c,basket:L=!0})=>e.jsxs("li",{className:G(j.item,a?j.done:""),children:[e.jsx("h2",{className:j.text,children:t}),e.jsx("div",{className:j.btns,children:L?e.jsx(k,{text:"Восстановить",onClick:c}):e.jsxs(e.Fragment,{children:[e.jsx(k,{text:a?"Не выполнено":"Выполнено",onClick:r}),e.jsx(k,{text:"Удалить",color:"red",onClick:l})]})})]}),O=y.memo(K),Q="_main_7rr7l_1",U="_title_7rr7l_11",W="_top_7rr7l_21",X="_topRight_7rr7l_33",Y="_topLeft_7rr7l_45",Z="_list_7rr7l_55",x={main:Q,title:U,top:W,topRight:X,topLeft:Y,list:Z};var v=(t=>(t[t.list=0]="list",t[t.doneList=1]="doneList",t[t.inProcessList=2]="inProcessList",t[t.basketList=3]="basketList",t[t.values=4]="values",t))(v||{});function tt(){const{toDoList:t,doneList:a,inProcessList:l,basketList:r}=B(),c=n.useMemo(()=>t,[t]),L=n.useMemo(()=>a,[a]),_=n.useMemo(()=>l,[l]),h=n.useMemo(()=>r,[r]),d=[{name:"Все",type:0,action:c},{name:"Готовые",type:1,action:L},{name:"В процессе",type:2,action:_},{name:"Корзина",type:3,action:h}],[D,p]=n.useState(c),[u,s]=n.useState(0);n.useEffect(()=>{d.map(i=>{u===i.type&&p(i.action)})},[u,c]);const m=n.useCallback(i=>{s(i)},[s]),g=d.map(i=>k({active:u===i.type,onClick:()=>m(i.type),text:i.name}));return{list:D,listType:u,btnsList:g}}const ot=()=>{const{addToList:t,setDone:a,setDelete:l,setDeleteAll:r,getFromBasket:c,setBasketList:L,setTodoList:_}=B(),{onInput:h,value:d,setValue:D}=H(),{list:p,listType:u,btnsList:s}=tt();n.useEffect(()=>{const o=f("basket")||[],C=f("todoList")||[];_(C),L(o)},[]);const m=()=>{d&&t(d),D("")},g=n.useCallback(o=>a(o),[a]),i=n.useCallback(o=>l(o),[l]),S=n.useCallback(o=>c(o),[c]);return e.jsxs("div",{className:x.main,children:[e.jsx("h1",{className:x.title,children:"Мои задачи"}),e.jsxs("div",{className:x.top,children:[e.jsxs("div",{className:x.topLeft,children:[e.jsx(V,{value:d,placeholder:"Моя задача",onInput:h}),e.jsx(k,{onClick:m,text:"Добавить"}),e.jsx(k,{onClick:r,text:"Переместить все в корзину",color:"red"})]}),e.jsx("div",{className:x.topRight,children:s})]}),p.length>0?e.jsx("ul",{className:x.list,children:p.map(o=>e.jsx(O,{id:o.id,done:o.done,text:o.text,onDone:()=>g(o.id),onDelete:()=>i(o.id),onBasket:()=>S(o.id),basket:u===v.basketList},o.id))}):e.jsx("h2",{children:"Пусто"})]})};export{ot as ToDoListPage,ot as default};
